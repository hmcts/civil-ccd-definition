const {I} = inject();

module.exports = {
  fields: {
    vulnerability: {
      id: '#respondent1DQVulnerabilityQuestions_vulnerabilityAdjustmentsRequired_radio',
      options: {
        yes: '#respondent1DQVulnerabilityQuestions_vulnerabilityAdjustmentsRequired_Yes',
        no: '#respondent1DQVulnerabilityQuestions_vulnerabilityAdjustmentsRequired_No',
      },
      id2: '#respondent2DQVulnerabilityQuestions_vulnerabilityAdjustmentsRequired_radio',
      id2options: {
        yes: '#respondent2DQVulnerabilityQuestions_vulnerabilityAdjustmentsRequired_Yes',
        no: '#respondent2DQVulnerabilityQuestions_vulnerabilityAdjustmentsRequired_No',
      }
    }
  },

  async selectVulnerability(responseType,twoDefendants) {
   if(!twoDefendants){
    I.waitForElement(this.fields.vulnerability.id);
    await I.runAccessibilityTest();
    await within(this.fields.vulnerability.id, () => {
    I.click(this.fields.vulnerability.options[responseType]);
    });
   } else {
       I.waitForElement(this.fields.vulnerability.id2);
       await I.runAccessibilityTest();
       await within(this.fields.vulnerability.id2, () => {
       I.click(this.fields.vulnerability.id2options[responseType]);
       });
   }
    await I.clickContinue();
  }
};

